{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"./app.publication\";\nfunction AppMagazine_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"input\", 3);\n    i0.ɵɵlistener(\"click\", function AppMagazine_div_1_Template_input_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const year_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onYearClick((year_r2 == null ? null : year_r2.year) || \"\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 4);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const year_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", year_r2 == null ? null : year_r2.year);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", year_r2 == null ? null : year_r2.year);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(year_r2 == null ? null : year_r2.year);\n  }\n}\nfunction AppMagazine_ng_container_3_div_1_app_publication_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-publication\", 8);\n  }\n  if (rf & 2) {\n    const publication_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"publication\", publication_r8);\n  }\n}\nfunction AppMagazine_ng_container_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, AppMagazine_ng_container_3_div_1_app_publication_3_Template, 1, 1, \"app-publication\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const year_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(year_r5 == null ? null : year_r5.year);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", year_r5 == null ? null : year_r5.publications);\n  }\n}\nfunction AppMagazine_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AppMagazine_ng_container_3_div_1_Template, 4, 2, \"div\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const year_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showYears.has((year_r5 == null ? null : year_r5.year) || \"\"));\n  }\n}\nclass AppMagazine {\n  constructor() {\n    this.magazine = null;\n    this.showYears = new Set();\n    this.onYearClick = year => {\n      if (this.showYears.has(year)) this.showYears.delete(year);else this.showYears.add(year);\n    };\n    this.showAllYears = () => this.magazine?.getYears().forEach(year => this.showYears.add(year.year));\n    this.hideAllYears = () => this.magazine?.getYears().forEach(year => this.showYears.delete(year.year));\n  }\n}\nAppMagazine.ɵfac = function AppMagazine_Factory(t) {\n  return new (t || AppMagazine)();\n};\nAppMagazine.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppMagazine,\n  selectors: [[\"app-magazine\"]],\n  inputs: {\n    magazine: \"magazine\"\n  },\n  decls: 4,\n  vars: 2,\n  consts: [[\"id\", \"years-select\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"years\"], [\"type\", \"checkbox\", \"checked\", \"\", 3, \"id\", \"click\"], [3, \"for\"], [\"class\", \"year\", 4, \"ngIf\"], [1, \"year\"], [3, \"publication\", 4, \"ngFor\", \"ngForOf\"], [3, \"publication\"]],\n  template: function AppMagazine_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, AppMagazine_div_1_Template, 4, 3, \"div\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵtemplate(3, AppMagazine_ng_container_3_Template, 2, 1, \"ng-container\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.magazine == null ? null : ctx.magazine.years);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.magazine == null ? null : ctx.magazine.years);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i2.AppPublication],\n  styles: [\"[_nghost-%COMP%] {\\n            display: flex;\\n            flex-direction: column;\\n            gap: 1rem;\\n        }\\n\\n        #years-select[_ngcontent-%COMP%] {\\n            display: flex;\\n            flex-direction: row;\\n            gap: 1rem;\\n        }\\n\\n        #years[_ngcontent-%COMP%] {\\n            display: flex;\\n            flex-direction: row;\\n            gap: 1rem;\\n        }\\n        .year[_ngcontent-%COMP%] {\\n            display: flex;\\n            flex-direction: column;\\n            gap: 1rem;\\n        }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLm1hZ2F6aW5lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7UUFDUTtZQUNJLGFBQWE7WUFDYixzQkFBc0I7WUFDdEIsU0FBUztRQUNiOztRQUVBO1lBQ0ksYUFBYTtZQUNiLG1CQUFtQjtZQUNuQixTQUFTO1FBQ2I7O1FBRUE7WUFDSSxhQUFhO1lBQ2IsbUJBQW1CO1lBQ25CLFNBQVM7UUFDYjtRQUNBO1lBQ0ksYUFBYTtZQUNiLHNCQUFzQjtZQUN0QixTQUFTO1FBQ2IiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgICAgOmhvc3Qge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICBnYXA6IDFyZW07XG4gICAgICAgIH1cblxuICAgICAgICAjeWVhcnMtc2VsZWN0IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICAgICAgZ2FwOiAxcmVtO1xuICAgICAgICB9XG5cbiAgICAgICAgI3llYXJzIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICAgICAgZ2FwOiAxcmVtO1xuICAgICAgICB9XG4gICAgICAgIC55ZWFyIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgICAgZ2FwOiAxcmVtO1xuICAgICAgICB9XG4gICAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { AppMagazine };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","AppMagazine_div_1_Template_input_click_1_listener","restoredCtx","ɵɵrestoreView","_r4","year_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","onYearClick","year","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵpropertyInterpolate","ɵɵtextInterpolate","ɵɵelement","ɵɵproperty","publication_r8","ɵɵtemplate","AppMagazine_ng_container_3_div_1_app_publication_3_Template","year_r5","publications","ɵɵelementContainerStart","AppMagazine_ng_container_3_div_1_Template","ɵɵelementContainerEnd","ctx_r1","showYears","has","AppMagazine","constructor","magazine","Set","delete","add","showAllYears","getYears","forEach","hideAllYears","selectors","inputs","decls","vars","consts","template","AppMagazine_Template","rf","ctx","AppMagazine_div_1_Template","AppMagazine_ng_container_3_Template","years"],"sources":["/home/nikodem/projects/school/src/app/app.magazine.ts"],"sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\n\nimport { Magazine } from './helpers';\n\n@Component({\n    selector: 'app-magazine',\n    template: `\n        <div id=\"years-select\">\n            <div\n                *ngFor=\"let year of magazine?.years\"\n            >\n                <input\n                    type=\"checkbox\"\n                    id=\"{{ year?.year }}\"\n                    (click)=\"onYearClick(year?.year || '')\"\n                    checked\n                />\n                <label for=\"{{ year?.year }}\">{{ year?.year }}</label>\n            </div>\n        </div>\n\n        <div id=\"years\">\n            <ng-container *ngFor=\"let year of magazine?.years\">\n                <div\n                    class=\"year\"\n                    *ngIf=\"showYears.has(year?.year || '')\"\n                >\n                    <h2>{{ year?.year }}</h2>\n\n                    <app-publication\n                        *ngFor=\"let publication of year?.publications\"\n                        [publication]=\"publication\"\n                    />\n                </div>\n            </ng-container>\n        </div>\n    `,\n    styles: [`\n        :host {\n            display: flex;\n            flex-direction: column;\n            gap: 1rem;\n        }\n\n        #years-select {\n            display: flex;\n            flex-direction: row;\n            gap: 1rem;\n        }\n\n        #years {\n            display: flex;\n            flex-direction: row;\n            gap: 1rem;\n        }\n        .year {\n            display: flex;\n            flex-direction: column;\n            gap: 1rem;\n        }\n    `],\n})\nexport class AppMagazine {\n    @Input() magazine: Magazine | null = null\n\n    protected showYears = new Set<string>()\n    protected onYearClick = (year: string) => {\n        if (this.showYears.has(year))\n            this.showYears.delete(year)\n        else\n            this.showYears.add(year)\n    }\n\n    protected showAllYears = () =>\n        this.magazine?.getYears().forEach(year => this.showYears.add(year.year))\n    protected hideAllYears = () =>\n        this.magazine?.getYears().forEach(year => this.showYears.delete(year.year))\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}