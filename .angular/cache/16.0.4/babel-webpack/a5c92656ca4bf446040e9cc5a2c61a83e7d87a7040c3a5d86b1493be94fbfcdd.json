{"ast":null,"code":"import * as xml2js from 'xml2js';\nconst DATA_URL = 'https://mendela.pl/ap_kli/czasopisma.xml';\nclass Czasopisma {\n  get() {\n    return this.czasopisma;\n  }\n  constructor(http) {\n    this.http = http;\n    this.czasopisma = null;\n    this.load = () => this.http.get(DATA_URL, {\n      responseType: 'text'\n    }).subscribe(data => this.czasopisma = this.convertToJSON(data).czasopisma);\n    this.convertToJSON = xml => {\n      let res = null;\n      const parser = new xml2js.Parser({\n        explicitArray: false\n      });\n      parser.parseString(xml, (err, result) => res = result);\n      return res;\n    };\n    this.load();\n  }\n}\nexport { Czasopisma };","map":{"version":3,"names":["xml2js","DATA_URL","Czasopisma","get","czasopisma","constructor","http","load","responseType","subscribe","data","convertToJSON","xml","res","parser","Parser","explicitArray","parseString","err","result"],"sources":["/home/nikodem/projects/school/src/app/helpers.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport * as xml2js from 'xml2js';\n\nconst DATA_URL = 'https://mendela.pl/ap_kli/czasopisma.xml';\n\nclass Czasopisma {\n    public czasopisma: any = null;\n    public get(): string {\n        return this.czasopisma;\n    }\n\n\tconstructor(private http: HttpClient) {\n        this.load();\n    }\n\n    private load = () =>\n        this.http.get(DATA_URL, { responseType: 'text' })\n            .subscribe(data => this.czasopisma = this.convertToJSON(data).czasopisma);\n\n    private convertToJSON = (xml: string) => {\n        let res: any = null\n\n        const parser = new xml2js.Parser({explicitArray: false});\n        parser.parseString(xml, (err, result) => res = result);\n\n        return res;\n    }\n}\n\nexport { Czasopisma };\n"],"mappings":"AACA,OAAO,KAAKA,MAAM,MAAM,QAAQ;AAEhC,MAAMC,QAAQ,GAAG,0CAA0C;AAE3D,MAAMC,UAAU;EAELC,GAAGA,CAAA;IACN,OAAO,IAAI,CAACC,UAAU;EAC1B;EAEHC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IALd,KAAAF,UAAU,GAAQ,IAAI;IASrB,KAAAG,IAAI,GAAG,MACX,IAAI,CAACD,IAAI,CAACH,GAAG,CAACF,QAAQ,EAAE;MAAEO,YAAY,EAAE;IAAM,CAAE,CAAC,CAC5CC,SAAS,CAACC,IAAI,IAAI,IAAI,CAACN,UAAU,GAAG,IAAI,CAACO,aAAa,CAACD,IAAI,CAAC,CAACN,UAAU,CAAC;IAEzE,KAAAO,aAAa,GAAIC,GAAW,IAAI;MACpC,IAAIC,GAAG,GAAQ,IAAI;MAEnB,MAAMC,MAAM,GAAG,IAAId,MAAM,CAACe,MAAM,CAAC;QAACC,aAAa,EAAE;MAAK,CAAC,CAAC;MACxDF,MAAM,CAACG,WAAW,CAACL,GAAG,EAAE,CAACM,GAAG,EAAEC,MAAM,KAAKN,GAAG,GAAGM,MAAM,CAAC;MAEtD,OAAON,GAAG;IACd,CAAC;IAdG,IAAI,CAACN,IAAI,EAAE;EACf;;AAgBJ,SAASL,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}